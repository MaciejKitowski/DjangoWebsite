{% load staticfiles %}

<html>
    <head>
        <title>
            Ask a question
            {% if is_paginated %}
                | Page: {{ page_obj.number }}
            {% endif %}
        </title>
        <meta charset="UTF-8">
        <meta name="description" content="Projekt zaliczeniowy na przedmiot Zaawansowane języki skryptowe (Informatyka zaocznie UG - 1rok, semestr 2)">
        <meta name="keywords" content="Django, Python, UG, Uniwersytet Gdański, MFI, Wydział Matematyki fizyki i informatyki, I have no idea what i'm doing'">
        <meta name="author" content="Maciej Kitowski, grupa 1">
        <link rel="stylesheet" href="{% static 'css/index.css' %}">
    </head>
    <body>
        <div id="header">
            Header
        </div>
        <div id="categories">
            categories
        </div>
        <div id="questions">
            <table>
                {% for question in latest_questions %}
                    <tr>
                        <td class="date"> 
                            {{ question.askDate|date:'Y-m-d H:i' }} <br/>
                            <small>Date</small>
                        </td>
                        <td class="votes">
                            {{ question.votes }} <br/>
                            <small>Votes</small>
                        </td>
                        <td class="views">
                            {{ question.views }} <br/>
                            <small>Views</small>
                        </td>
                        <td class="question">
                            {{ question.title }} <br/>

                            {% for cat in question.categories.all %}
                                <div class="category">{{ cat }}</div>
                            {% endfor %}

                            <div class="author">Asked by: {{ question.author }}</div>
                        </td>
                    </tr>
                {% empty %}
                    <tr><th>Nobody asked a question</th></tr>
                {% endfor %}
            </table>
            {% if is_paginated %}
                <div id="pageNumbers"> 
                    {% if page_obj.has_previous %}
                        <a href="./{{ page_obj.previous_page_number }}">Previous page</a>
                    {% endif %}

                    {% for pageNumber in page_obj.paginator.page_range %}
                        {% if pageNumber == page_obj.number %}
                            <div class="currentPage">{{ pageNumber }}</div>
                        {% else %}
                            <div class="page">{{ pageNumber }}</div>
                        {% endif %}
                    {% endfor %}
                    
                    {% if page_obj.has_next %}
                        <a href="./{{ page_obj.next_page_number }}">Next page</a>
                    {% endif %}
                </div>
            {% endif %}
        </div>
        <div id="footer">
            Footer
        </div>
    </body>
</html>